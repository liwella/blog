---
title: 个人博客搭建流程
date: 2022-12-20 15:25:32
author: 青蛙瓷器
img: http://pic.tanzhang.work/blog/gallary/221205.jpg
top: true
cover: false
coverImg: 
toc: true
mathjax: false
categories: 博客
tags:
  - hexo
---
对于技术人员来说，目前有很多大型技术博客论坛也可以发布个人博客，这些博客论坛的好处是方便，使用、维护简单，且有比较成熟的社区，容易引流；缺点是自由度比较低，无法自行定制页面样式，且内容有一定的限制。个人博客的优缺点和博客论坛的基本相反，小众，流量低，但相对来说比较自由，可以自行定制，且可以体验到从0到1搭建一个个人网站的成就感。笔者写博客的主要目的是为了记录平时工作过程中学习到的技术知识，方便后续回顾，这点跟个人博客的特点比较契合，所以笔者选择自建博客。

笔者使用 hexo + github pages 搭建静态博客。hexo 是基于 node.js 的高效静态博客框架，通过 MarkDown 在本地编辑好博客文章，然后使用 hexo 生成静态博客页面，最后通过简单的几条命令便可以部署到 github pages 上。

# 个人博客搭建流程

## Node.js 安装

hexo 是基于 node.js 的，安装 node.js 比较简单，直接在官网上找到操作系统对应的版本下载安装，安装过程中一路点击 next 即可。安装完成后打开 **cmd命令提示符** 输入如下两条命令检查是否安装成功：

```shell
node -v;
npm -v;
```

成功出现版本号则说明安装成功；

npm 默认使用的国外镜像源，速度较慢，可以通过如下命令设置国内镜像源：

```shell
npm config set registry https://registry.npm.taobao.org;
```

## git 安装与 github 配置

将博客托管到 github pages 上，首先需要创建一个仓库，仓库名称为 **用户名.github.io**，作为博客部署的仓库。

git 安装和 node.js 类似，直接官网下载好安装包后安装即可，安装过程中一路点击 next；安装好后在任意位置点击鼠标右键，选择 `Git Bash Here` 打开 git 命令窗口，执行如下命令配置 git 用户基本信息：

```shell
git config --global user.name "用户名"; # 用户名可以随意填写
git config --global user.email "邮箱"; # 推荐使用github注册邮箱
```

`-- global` 参数表示这台机器上的所有 git 仓库都会使用这个参数，后续对代码的修改和提交都将使用这个用户信息。

配置好后需要生成 ssh 公钥，用于连接 github 时的加密认证。github 配置公钥和 gitee 配置公钥的方法相同，所以可以参照 [gitee 生成和配置公钥](https://gitee.com/help/articles/4181#article-header0) 的方法进行配置。

## 博客初始化

选择任意一个磁盘，新建一个文件夹用于存放博客文件，在目标目录点击右键选择 `Git Bash Here` 打开 git 命令窗口，首先输入如下命令安装 hexo 客户端：

```shell
npm install hexo-cli -g;
```

安装完成后通过 `hexo -v;` 命令验证是否安装成功；

验证安装成功后，就可以继续进行博客初始化，按顺序执行如下命令：

```shell
hexo init;
npm install;
```

完成后即可得到初始化好的博客源码文件如下图所示（注意此为博客源码文件，并非部署到 github pages 上的博客文件）：
![hexo博客文件目录](http://pic.tanzhang.work/blog/blog_file.png)

博客初始化好后，可以继续通过如下命令执行编译和运行博客：

- hexo g：编译博客文件，编译后会在博客源文件根目录下产生一个 public 文件夹，其中包括了md文件编译后生成静态网页文件；public 文件夹下的文件即为真正需要部署到 github pages 上的博客文件；
- hexo s：在本地运行博客，启动完成后可以通过 `localhost:4000` 即可以访问到博客页面；

## 将博客部署到 github

上述步骤完成后，博客的雏形基本已经完成了，接下来就是将博客部署到 github pages 上面。这一步需要先修改博客源文件中的 `_config.yml` 文件中的如下配置：

```yml
## Docs: https://hexo.io/docs/one-command-deployment
deploy:
  type: git # 部署方式，部署到github上面，默认为git
  repository: git@github.com:yutanzhang/yutanzhang.github.io.git # 仓库，使用前面创建的仓库的 ssh 地址
  branch: main # 分支，使用主干分支即可，切记不是master
```

上述配置完成后，通过 `hexo d` 命令，即可将博客部署到 github pages 上。github pages 会自动运行博客文件，并分配一个地址用于访问博客，默认为：`https://用户名.github.io`，在浏览器中输入该地址即可访问到博客；
