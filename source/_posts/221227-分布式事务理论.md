---
title: 分布式事务基础理论
date: 2022-12-27 21:50:41
author: 青蛙瓷器
img: http://pic.tanzhang.work/blog/gallary/221223.jpg
top: false
cover: false
coverImg: 
toc: true
mathjax: false
categories: 分布式
tags:
  - 事务
---
微服务的出现解决了单体架构的痛点和难点，同时也引入了一些新的问题，服务如何治理、通信、服务划分以及服务间数据的一致性等等，都会影响到微服务架构的成败。本节讨论的是如何在微服务架构下依然保证各服务间数据的一致性，在单数据源的情况下，我们可以依托数据库提供的事务能力来保证一致性，但微服务场景下存在多个数据源，当业务请求需要同时更新或修改多个数据源的数据时，如何保证这些数据同时修改成功或失败，就成了一个需要关注的问题。为了解决这个问题，诞生了很多基础理论，如 CAP定理、BASE 理论，以及 2PC、3PC 等强一致性事务理论。

## CAP 定理

CAP 是三个单词的缩写，C-Consistency指一致性、A-Availability指可用性、P-Partition Tolarance 指分区容错性。CAP 定理讨论的就是在分布式环境下这三者间的相互关系。
